<div class="job-container my-2">
    <div class="top-section">
        <img 
            class="header-bg" 
            src="assets/job-details-vector.png" 
            alt="Header Gradient">
        <div class="logo-wrapper">
            <div class="logo">
                <svg 
                    xmlns="http://www.w3.org/2000/svg" 
                    width="61" 
                    height="61" 
                    viewBox="0 0 61 61" 
                    fill="none">
                    <path d="M23 42H39V38H23V42ZM23 34H39V30H23V34ZM19 50C17.9 50 16.958 49.608 16.174 48.824C15.39 48.04 14.9987 47.0987 15 46V14C15 12.9 15.392 11.958 16.176 11.174C16.96 10.39 17.9013 9.99867 19 10H35L47 22V46C47 47.1 46.608 48.042 45.824 48.826C45.04 49.61 44.0987 50.0013 43 50H19ZM33 24H43L33 14V24Z" fill="white"/>
                </svg>
            </div>
        </div>
    </div>
    <div class="info-container">
        <app-loading-spinner 
        *ngIf="(selectedJob$ | async) === null && (isLoading$ | async)" 
        class="spinner-container">
        </app-loading-spinner>
        <div *ngIf="selectedJob$ | async as selectedJob">
            <h1>{{ selectedJob.job_position }}</h1>
            <div class="attr-container">
                <div class="outer-div">
                    <span class="inner-span">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">
                            <path d="M14 9.225C13.6211 9.225 13.2578 9.08013 12.9898 8.82227C12.7219 8.56441 12.5714 8.21467 12.5714 7.85C12.5714 7.48533 12.7219 7.13559 12.9898 6.87773C13.2578 6.61987 13.6211 6.475 14 6.475C14.3789 6.475 14.7422 6.61987 15.0102 6.87773C15.2781 7.13559 15.4286 7.48533 15.4286 7.85C15.4286 8.03057 15.3916 8.20937 15.3198 8.37619C15.248 8.54301 15.1428 8.69459 15.0102 8.82227C14.8775 8.94995 14.72 9.05123 14.5467 9.12033C14.3734 9.18944 14.1876 9.225 14 9.225ZM14 4C12.9391 4 11.9217 4.40562 11.1716 5.12764C10.4214 5.84965 10 6.82892 10 7.85C10 10.7375 14 15 14 15C14 15 18 10.7375 18 7.85C18 6.82892 17.5786 5.84965 16.8284 5.12764C16.0783 4.40562 15.0609 4 14 4Z" fill="#858585"/>
                        </svg>
                        <h4>Location</h4>
                    </span>
                    <h3>{{ selectedJob.job_location }}</h3>
                </div>
                <div class="outer-div">
                    <span class="inner-span">
                        <svg xmlns="http://www.w3.org/2000/svg" width="13" height="13" viewBox="0 0 13 13" fill="none">
                            <path d="M8.66667 2.4375C8.66667 2.22201 8.75227 2.01535 8.90464 1.86298C9.05702 1.7106 9.26368 1.625 9.47917 1.625H10.5625C10.778 1.625 10.9847 1.7106 11.137 1.86298C11.2894 2.01535 11.375 2.22201 11.375 2.4375V10.5625C11.375 10.778 11.2894 10.9847 11.137 11.137C10.9847 11.2894 10.778 11.375 10.5625 11.375H9.47917C9.26368 11.375 9.05702 11.2894 8.90464 11.137C8.75227 10.9847 8.66667 10.778 8.66667 10.5625V2.4375ZM5.14583 5.6875C5.14583 5.47201 5.23144 5.26535 5.38381 5.11298C5.53618 4.9606 5.74285 4.875 5.95833 4.875H7.04167C7.25716 4.875 7.46382 4.9606 7.61619 5.11298C7.76856 5.26535 7.85417 5.47201 7.85417 5.6875V10.5625C7.85417 10.778 7.76856 10.9847 7.61619 11.137C7.46382 11.2894 7.25716 11.375 7.04167 11.375H5.95833C5.74285 11.375 5.53618 11.2894 5.38381 11.137C5.23144 10.9847 5.14583 10.778 5.14583 10.5625V5.6875ZM2.4375 8.125C2.22201 8.125 2.01535 8.2106 1.86298 8.36298C1.7106 8.51535 1.625 8.72201 1.625 8.9375V10.5625C1.625 10.778 1.7106 10.9847 1.86298 11.137C2.01535 11.2894 2.22201 11.375 2.4375 11.375H3.52083C3.73632 11.375 3.94298 11.2894 4.09536 11.137C4.24773 10.9847 4.33333 10.778 4.33333 10.5625V8.9375C4.33333 8.72201 4.24773 8.51535 4.09536 8.36298C3.94298 8.2106 3.73632 8.125 3.52083 8.125H2.4375Z" fill="#858585"/>
                        </svg>
                        <h4>Level</h4>
                    </span>
                    <h3>{{ selectedJob.job_details[0].Seniority_level }}</h3>
                </div>
                <div class="outer-div">
                    <span class="inner-span">
                        <svg xmlns="http://www.w3.org/2000/svg" width="13" height="13" viewBox="0 0 13 13" fill="none">
                            <g clip-path="url(#clip0_23_10)">
                            <path d="M1.44439 0.8125C1.04491 0.8125 0.722168 1.17559 0.722168 1.625V10.9688C0.722168 11.6416 1.20741 12.1875 1.8055 12.1875H11.1944C11.7925 12.1875 12.2777 11.6416 12.2777 10.9688V3.86445C12.2777 3.40234 11.8399 3.11035 11.4788 3.32871L7.94439 5.46914V3.86445C7.94439 3.40234 7.50654 3.11035 7.14543 3.32871L3.61106 5.46914V1.625C3.61106 1.17559 3.28831 0.8125 2.88883 0.8125H1.44439Z" fill="#858585"/>
                            </g>
                            <defs>
                            <clipPath id="clip0_23_10">
                                <rect width="13" height="13" fill="white"/>
                            </clipPath>
                            </defs>
                        </svg>
                        <h4>Industry</h4>
                    </span>
                    <h3>{{ selectedJob.job_details[0].Industries }}</h3>
                </div>
                <div class="outer-div">
                    <span class="inner-span">
                        <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 14 14" fill="none">
                            <path d="M6.99996 1.16666C6.23392 1.16666 5.47537 1.31755 4.76764 1.6107C4.05991 1.90385 3.41685 2.33353 2.87517 2.87521C1.78121 3.96917 1.16663 5.4529 1.16663 7C1.16663 8.54709 1.78121 10.0308 2.87517 11.1248C3.41685 11.6665 4.05991 12.0961 4.76764 12.3893C5.47537 12.6824 6.23392 12.8333 6.99996 12.8333C8.54706 12.8333 10.0308 12.2188 11.1247 11.1248C12.2187 10.0308 12.8333 8.54709 12.8333 7C12.8333 6.23395 12.6824 5.47541 12.3893 4.76768C12.0961 4.05994 11.6664 3.41688 11.1247 2.87521C10.5831 2.33353 9.94001 1.90385 9.23228 1.6107C8.52455 1.31755 7.766 1.16666 6.99996 1.16666ZM9.44996 9.45L6.41663 7.58333V4.08333H7.29163V7.11666L9.91663 8.69166L9.44996 9.45Z" fill="#858585"/>
                        </svg>
                        <h4>Type</h4>
                    </span>
                    <h3>{{ selectedJob.job_details[0].Employment_type }}</h3>
                </div>
            </div>
            <hr>
            <span class="inner-span hug-right">
                <h3>Date posted: </h3>
                <h4>{{ selectedJob.job_details[0].job_posting_time }}</h4>
            </span>
            <h2>Job Description</h2>
            <div class="desc-container">
                <ng-container *ngFor="let paragraph of formatDescription(selectedJob?.job_details[0]?.job_description)">
                    <p>{{ paragraph }}</p>
                </ng-container>
            </div>
            <button 
                class="btn btn-primary mt-3 hug-right"
                (click)="openJobLink(selectedJob.job_link)">Apply
            </button>
        </div>
    </div>
</div>

